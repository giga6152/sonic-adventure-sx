<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprRankS</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>-3</depth>
  <persistent>0</persistent>
  <parentName>objHUD</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>visible = false;
canRank = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>room_goto (myRoom);
scrSetBestStats();
scrSaveM();

/*if room == rmZ1_1rm2 &amp;&amp; global.Z1_1 == false
    global.Z1_1 = true;
if room == rmZ1_1Krm2 &amp;&amp; global.Z1_1Knux == false
    global.Z1_1Knux = true;
if room == rmZ1_1Arm2 &amp;&amp; global.Z1_1Amy == false
    global.Z1_1Amy = true;
if room == rmZ1_B &amp;&amp; global.Z1_B == false
    global.Z1_B = true;
if room == rmZ1_BK &amp;&amp; global.Z1_BKnux == false
    global.Z1_BKnux = true;
if room == rmZ1_BA &amp;&amp; global.Z1_BAmy == false
    global.Z1_BAmy = true;
if room == rmS1rm6 &amp;&amp; global.S1 == false
{
    global.S1 = true;
    global.monkeyLearnt = true;
}
if room == rmZ2_1rm2 &amp;&amp; global.Z2_1 == false
    global.Z2_1 = true;
if room == rmZ2_1Krm2 &amp;&amp; global.Z2_1Knux == false
    global.Z2_1Knux = true;
if room == rmZ2_1Arm2 &amp;&amp; global.Z2_1Amy == false
    global.Z2_1Amy = true;
if room == rmZ2_B &amp;&amp; global.Z2_B == false
    global.Z2_B = true;
if room == rmZ2_BK &amp;&amp; global.Z2_BKnux == false
    global.Z2_BKnux = true;
if room == rmZ2_BA &amp;&amp; global.Z2_BAmy == false
    global.Z2_BAmy = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[2] = 40;
instance_create (0, 0, objFadeWhite);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>visible = true;
alarm[1] = 120;
audio_play_sound (sndRank, 10, false);

//Now, for the ranking system.

/*The rank system is the X Rank (highest) to the D Rank (lowest). Note that these only
apply at the end of Sonic's, Tails', Knuckles', Amy's, Shadow's and Silver's stages.
The stages involving Shantae characters do not use this system. The rank system also does
not apply during the Last Story.*/

/*At the end of action stages, the final total required for an S Rank is 100K points, for
bosses, the required amount is 50K points. The points for the final score are calculated 
using the original score (points are earned by collecting rings and destroying enemies)
plus an additional time bonus (depends on how fast the stage was completed) and ring bonus
(100 points for every ring kept). These points are then added up to the total score and
then the rank will be given.*/

/*Also, an X Rank will be given if the player acquires 200K points, which is done by
getting the traditional S Rank and finding a monitor which gives 100K points or finding
a Chaos Emerald. The player cannot get an X Rank during boss fights.*/
if room = rmZ1_1rm2 or room == rmZ2_1rm2M
{
    //if global.finalPoints &gt;= 200000
       //sprite_index = sprRankX; //X Rank
    if global.finalPoints &gt;= 100000
        sprite_index = sprRankS; //S Rank
    else if global.finalPoints &gt;= 90000 &amp;&amp; global.finalPoints &lt; 100000
        sprite_index = sprRankA; //A Rank
    else if global.finalPoints &gt;= 75000 &amp;&amp; global.finalPoints &lt; 90000
        sprite_index = sprRankB; //B Rank
    else if global.finalPoints &gt;= 50000 &amp;&amp; global.finalPoints &lt; 75000
        sprite_index = sprRankC; //C Rank
    else if global.finalPoints &lt; 50000
        sprite_index = sprRankD; //D Rank
}
if room == rmZ1_1Krm2M or room == rmZ2_1Krm2M
{
    //if global.finalPoints &gt;= 200000
       //sprite_index = sprRankX; //X Rank
    if global.finalPoints &gt;= 95000
        sprite_index = sprRankS; //S Rank
    else if global.finalPoints &gt;= 85000 &amp;&amp; global.finalPoints &lt; 95000
        sprite_index = sprRankA; //A Rank
    else if global.finalPoints &gt;= 70000 &amp;&amp; global.finalPoints &lt; 85000
        sprite_index = sprRankB; //B Rank
    else if global.finalPoints &gt;= 47500 &amp;&amp; global.finalPoints &lt; 70000
        sprite_index = sprRankC; //C Rank
    else if global.finalPoints &lt; 47500
        sprite_index = sprRankD; //D Rank
}
if room == rmZ1_1Slrm2 or room == rmZ2_1Slrm2 or room == rmZ1_1Trm2 or room == rmZ1_1Arm2M or room == rmZ2_1Arm2
{
    //if global.finalPoints &gt;= 200000
       //sprite_index = sprRankX; //X Rank
    if global.finalPoints &gt;= 90000
        sprite_index = sprRankS; //S Rank
    else if global.finalPoints &gt;= 80000 &amp;&amp; global.finalPoints &lt; 90000
        sprite_index = sprRankA; //A Rank
    else if global.finalPoints &gt;= 65000 &amp;&amp; global.finalPoints &lt; 80000
        sprite_index = sprRankB; //B Rank
    else if global.finalPoints &gt;= 45000 &amp;&amp; global.finalPoints &lt; 65000
        sprite_index = sprRankC; //C Rank
    else if global.finalPoints &lt; 45000
        sprite_index = sprRankD; //D Rank
}
if room = rmZ1_B or room == rmZ1_BK or room == rmZ2_B or room == rmZ2_BK or room == rmZ1_BA or room == rmZ2_BA
{
    if global.finalPoints &gt;= 50000
        sprite_index = sprRankS; //S Rank
    else if global.finalPoints &gt;= 40000 &amp;&amp; global.finalPoints &lt; 50000
        sprite_index = sprRankA; //A Rank
    else if global.finalPoints &gt;= 25000 &amp;&amp; global.finalPoints &lt; 40000
        sprite_index = sprRankB; //B Rank
    else if global.finalPoints &gt;= 12500 &amp;&amp; global.finalPoints &lt; 25000
        sprite_index = sprRankC; //C Rank
    else if global.finalPoints &lt; 12500
        sprite_index = sprRankD; //D Rank
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.finalPoints == objFinalScore.estimateScore &amp;&amp; canRank == false
{
    canRank = true;
    alarm[0] = 60;
}

//Since this is a demo, send us back to the trial select screen if we clear the stage.
myRoom = rmTrialStage;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///kept rooms

/*if room == rmZ1_1rm2
{
    if global.Z1_B == false
        myRoom = rmBoss1Cutscene;
    else
        myRoom = rmSonicHub1Wait;
        
    //myRoom = rmDemoCharacter;
}
if room == rmZ1_1Krm2
{
    if global.Z1_BKnux == false
        myRoom = rmKnuxBoss1Cutscene;
    else
        myRoom = rmKnuxHub1Wait;
}
if room == rmZ1_1Arm2
{
    if global.Z1_BAmy == false
        myRoom = rmAmyBoss1Cutscene;
    else
        myRoom = rmAmyHub1Wait;
}
if room == rmZ1_BA
{
    if global.Z2_1Amy == false
        myRoom = rmAmyBoss1Cutscene2;
    else
        myRoom = rmAmyHub1Wait;
}
if room == rmZ1_B
{
    if global.Z2_1 == false
        myRoom = rmBoss1Cutscene2;
    else
        myRoom = rmSonicHub1Wait;
}
if room == rmZ1_BK
{
    if global.Z2_1Knux == false
        myRoom = rmKnuxBoss1Cutscene2;
    else
        myRoom = rmKnuxHub1Wait;
}
if room == rmS1rm6
{
    if global.S2 == false
        myRoom = rmShantaeIntroCutscene5;
    else
        myRoom = rmShantaeHubWait;
}
if room == rmZ2_1rm2M
{
    if global.Z2_B == false
        myRoom = rmBoss2CutsceneOVA;
    else
        myRoom = rmSonicHub2Wait;
}
if room == rmZ2_B
{
    if global.Z3_1 == false
        myRoom = rmBoss2Cutscene2;
    else
        myRoom = rmSonicHub2Wait;
}
if room == rmZ2_1Krm2
{
    if global.Z2_BKnux == false
        myRoom = rmKnuxBoss2Cutscene;
    else
        myRoom = rmKnuxHub2Wait;
}
if room == rmZ2_1Arm2
{
    if global.Z2_BAmy == false
        myRoom = rmAmyBoss2Cutscene;
    else
        myRoom = rmAmyHub2Wait;
}
if room == rmZ2_BK
{
    if global.Z3_1Knux == false
        myRoom = rmKnuxBoss2Cutscene2;
    else
        myRoom = rmKnuxHub2Wait;
}
if room == rmZ2_BA
{
    if global.Z3_1Amy == false
        myRoom = rmAmyBoss2Cutscene2;
    else
        myRoom = rmAmyHub2Wait;
}
/*if room == rmD2rm17
{
    myRoom = rmDemoCharacter;
}*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
