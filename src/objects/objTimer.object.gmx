<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-9999</depth>
  <persistent>0</persistent>
  <parentName>objHUD</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//If we are in a level, show the ingame time for how long we are currently in the level
if !instance_exists (objTimeControl)
{
    if global.millisecondsC == 0 &amp;&amp; global.secondsC == 0 &amp;&amp; global.minutesC == 0 &amp;&amp; global.milC == 0 &amp;&amp; global.timeBonusC == 50000
    {
        global.milliseconds = 0;
        global.seconds = 0;
        global.minutes = 0;
        global.mil = 0;
        global.timeBonus = 50000;
    }
    else
    {
        global.milliseconds = global.millisecondsC;
        global.seconds = global.secondsC;
        global.minutes = global.minutesC;
        global.mil = global.milC;
        global.timeBonus = global.timeBonusC;
    }
    
    if instance_exists (objHub)
    {
        global.millisecondsG = 0.1;
        global.secondsG = 0.1;
        global.minutesG = 0.1;
        global.milG = 0.1;
    }
    else
    {
        global.millisecondsG = 0;
        global.secondsG = 0;
        global.minutesG = 0;
        global.milG = 0;
    }
    
    global.rings = 0;
    global.points = 0;
}

//If we are in a hubworld, show the actual world clock instead of the ingame timer
worldsecond = date_get_second (date_current_datetime());
worldminute = date_get_minute (date_current_datetime());
worldhour = date_get_hour (date_current_datetime());

deduct = 1000;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.timeBonus == 45000
    global.timeBonus = 30000;
if global.timeBonus == 30000
    global.timeBonus = 25000;
if global.timeBonus == 25000
    global.timeBonus = 5000;
if global.timeBonus == 5000
    global.timeBonus = 2500;
if global.timeBonus == 2500
    global.timeBonus = 0;

if global.timeBonus != 0
    alarm[0] = timealarm;
else
    alarm[0] = -1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists (objSonicModified) &amp;&amp; room != rmZ1_B
{
    x = objSonicModified.x;
    y = objSonicModified.y;
}
else if instance_exists (objBossScroll)
{
    x = objBossScroll.x;
    y = objBossScroll.y;
}
else if instance_exists (objSonic)
{
    x = objSonic.x;
    y = objSonic.y;
}
if instance_exists (objDeadPlayer) &amp;&amp; room != rmZ1_B
{
    x = objDeadPlayer.x;
    y = objDeadPlayer.y;
}

if global.millisecondsG == 0
{
    if !instance_exists (objHub)
        global.milliseconds += 1000 div 60;
    else
    {
        global.milliseconds = 0;
        global.seconds = 0;
        global.minutes = 0;
        global.mil = 0;
    }
}
else if global.millisecondsG != 0
    global.milliseconds = global.millisecondsG;

if global.milG == 0
    global.mil = global.milliseconds+(global.seconds*1000)+(global.minutes*60000);
else
    global.mil = global.milG;

if global.milliseconds &gt; 999.99 &amp;&amp; global.seconds &lt; 100
{
    global.milliseconds = 0;
    global.seconds += 1;
}
if global.seconds == 60
{
    global.seconds = 0;
    global.minutes += 1;
}

/*if room == rmZ1_1rm2 or room == rmZ1_1Krm2M or room == rmZ1_1Shrm2 or room == rmZ1_1Slrm2 or room == rmZ1_1Trm2 or room == rmZ1_1Arm2M
{
    if global.mil &lt; 150000
        global.timeBonus = 35000;
    else if global.mil &gt;= 150000 &amp;&amp; global.mil &lt; 175000
        global.timeBonus = 25000;
    else if global.mil &gt;= 175000 &amp;&amp; global.mil &lt; 190000
        global.timeBonus = 10000;
    else if global.mil &gt;= 190000 &amp;&amp; global.mil &lt; 220000
        global.timeBonus = 5000;
    else if global.mil &gt;= 220000 &amp;&amp; global.mil &lt; 250000
        global.timeBonus = 2500;
    else if global.mil &gt;= 250000
        global.timeBonus = 0;
}
if room == rmZ1_B or room == rmZ1_BK or room == rmZ1_BA
{
    if global.mil &lt; 60000
        global.timeBonus = 35000;
    else if global.mil &gt;= 60000 &amp;&amp; global.mil &lt; 85000
        global.timeBonus = 25000;
    else if global.mil &gt;= 85000 &amp;&amp; global.mil &lt; 100000
        global.timeBonus = 10000;
    else if global.mil &gt;= 100000 &amp;&amp; global.mil &lt; 120000
        global.timeBonus = 5000;
    else if global.mil &gt;= 120000 &amp;&amp; global.mil &lt; 165000
        global.timeBonus = 2500;
    else if global.mil &gt;= 165000
        global.timeBonus = 0;
}
if room == rmZ2_1rm2M or room == rmZ2_1Krm2M or room == rmZ2_1Shrm2 or room == rmZ2_1Slrm2
{
    if global.mil &lt; 225000
        global.timeBonus = 35000;
    else if global.mil &gt;= 225000 &amp;&amp; global.mil &lt; 245000
        global.timeBonus = 25000;
    else if global.mil &gt;= 245000 &amp;&amp; global.mil &lt; 275000
        global.timeBonus = 10000;
    else if global.mil &gt;= 275000 &amp;&amp; global.mil &lt; 300000
        global.timeBonus = 5000;
    else if global.mil &gt;= 300000 &amp;&amp; global.mil &lt; 330000
        global.timeBonus = 2500;
    else if global.mil &gt;= 330000
        global.timeBonus = 0;
}
if room == rmZ2_B
{
    if global.mil &lt; 90000
        global.timeBonus = 35000;
    else if global.mil &gt;= 90000 &amp;&amp; global.mil &lt; 120000
        global.timeBonus = 25000;
    else if global.mil &gt;= 120000 &amp;&amp; global.mil &lt; 180000
        global.timeBonus = 10000;
    else if global.mil &gt;= 180000 &amp;&amp; global.mil &lt; 210000
        global.timeBonus = 5000;
    else if global.mil &gt;= 210000 &amp;&amp; global.mil &lt; 240000
        global.timeBonus = 2500;
    else if global.mil &gt;= 240000
        global.timeBonus = 0;
}
if room = rmZ2_BK or room = rmZ2_BA
{
    if global.mil &lt; 210000
        global.timeBonus = 35000;
    else if global.mil &gt;= 210000 &amp;&amp; global.mil &lt; 240000
        global.timeBonus = 25000;
    else if global.mil &gt;= 240000 &amp;&amp; global.mil &lt; 300000
        global.timeBonus = 10000;
    else if global.mil &gt;= 300000 &amp;&amp; global.mil &lt; 360000
        global.timeBonus = 5000;
    else if global.mil &gt;= 360000 &amp;&amp; global.mil &lt; 420000
        global.timeBonus = 2500;
    else if global.mil &gt;= 420000
        global.timeBonus = 0;
}*/

//Deduct 60 points from the time bonus every second after a specific time frame
if global.mil &gt;= 60000 &amp;&amp; global.milG == 0
{
    if global.timeBonus &gt; 0
    {
        deduct -= (1000/60);
        if deduct &lt;= 0
        {
            deduct = 1000;
            global.timeBonus -= 60;
        }
    }
    else global.timeBonus = 0;
}
else deduct = 1000;


worldsecond = date_get_second (date_current_datetime());
worldminute = date_get_minute (date_current_datetime());
worldhour = date_get_hour (date_current_datetime());
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.millisecondsG = 0;
global.secondsG = 0;
global.minutesG = 0;
global.mil = 0;

global.milliseconds = global.millisecondsC;
global.seconds = global.secondsC;
global.minutes = global.minutesC;
global.mil = global.milC;
global.timeBonus = global.timeBonusC;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_sprite (sprTimeScore, 0, view_xview[0]+272, view_yview[0]+8);
draw_set_font (fntFont);

var drawMilli = floor (global.milliseconds);

//Draw the ingame timer during a level
if !instance_exists (objHub)
{    
    //draw_text (view_xview[0]+240, view_yview[0]+180, global.mil);
    
    /*if global.seconds &lt; 10
        scrDrawOutlines(view_xview[0]+150, view_yview[0]+5, string(global.minutes)+"'0"+string(global.seconds)+'"'+string(drawMilli), c_navy, c_aqua, 2);
    else if drawMilli &lt; 10
        scrDrawOutlines(view_xview[0]+150, view_yview[0]+5, string(global.minutes)+"'"+string(global.seconds)+'"00'+string(drawMilli), c_navy, c_aqua, 2);
    else if drawMilli &gt;= 10 &amp;&amp; drawMilli &lt; 100
        scrDrawOutlines(view_xview[0]+150, view_yview[0]+5, string(global.minutes)+"'"+string(global.seconds)+'"0'+string(drawMilli), c_navy, c_aqua, 2);
    else if global.seconds &lt; 10 &amp;&amp; drawMilli &lt; 10
        scrDrawOutlines(view_xview[0]+150, view_yview[0]+5, string(global.minutes)+"'0"+string(global.seconds)+'"00'+string(drawMilli), c_navy, c_aqua, 2);
    else if global.seconds &lt; 10 &amp;&amp; drawMilli &gt;= 10 &amp;&amp; drawMilli &lt; 100
        scrDrawOutlines(view_xview[0]+150, view_yview[0]+5, string(global.minutes)+"'0"+string(global.seconds)+'"0'+string(drawMilli), c_navy, c_aqua, 2);
    else
        scrDrawOutlines(view_xview[0]+150, view_yview[0]+5, string(global.minutes)+"'"+string(global.seconds)+'"'+string(drawMilli), c_navy, c_aqua, 2);*/
    
    var dmil, dsec, dmin, brk1, brk2;
    if drawMilli &lt; 10
        dmil = "00"+string(drawMilli);
    else if drawMilli &lt; 100
        dmil = "0"+string(drawMilli);
    else
        dmil = string(drawMilli);
        
    if global.seconds &lt; 10
        dsec = "0"+string(global.seconds);
    else
        dsec = string(global.seconds);
        
    if global.minutes &lt; 10
        dmin = "0"+string(global.minutes);
    else
        dmin = string(global.minutes);
        
    brk1 = "'";
    brk2 = '"';
    
    scrDrawOutlines(view_xview[0]+272+67, view_yview[0]+8+4, dmin+brk1+dsec+brk2+dmil, c_navy, c_aqua, 2);
}
else if instance_exists (objHub) //Draw the actual world time during the hubworld
{
    if worldhour &lt; 10 &amp;&amp; worldminute &lt; 10 &amp;&amp; worldsecond &lt; 10
         scrDrawOutlines (view_xview[0]+150, view_yview[0]+5, "0"+string(worldhour)+"'0"+string(worldminute)+"'0"+string(worldsecond)+'"', c_navy, c_aqua, 2);
    else if worldhour &lt; 10 &amp;&amp; worldminute &lt; 10
         scrDrawOutlines (view_xview[0]+150, view_yview[0]+5, "0"+string(worldhour)+"'0"+string(worldminute)+"'"+string(worldsecond)+'"', c_navy, c_aqua, 2);
    else if worldhour &lt; 10 &amp;&amp; worldsecond &lt; 10
         scrDrawOutlines (view_xview[0]+150, view_yview[0]+5, "0"+string(worldhour)+"'"+string(worldminute)+"'0"+string(worldsecond)+'"', c_navy, c_aqua, 2);
    else if worldminute &lt; 10 &amp;&amp; worldsecond &lt; 10
         scrDrawOutlines (view_xview[0]+150, view_yview[0]+5, string(worldhour)+"'0"+string(worldminute)+"'0"+string(worldsecond)+'"', c_navy, c_aqua, 2);
    else if worldhour &lt; 10
         scrDrawOutlines (view_xview[0]+150, view_yview[0]+5, "0"+string(worldhour)+"'"+string(worldminute)+"'"+string(worldsecond)+'"', c_navy, c_aqua, 2);
    else if worldminute &lt; 10
         scrDrawOutlines (view_xview[0]+150, view_yview[0]+5, string(worldhour)+"'0"+string(worldminute)+"'"+string(worldsecond)+'"', c_navy, c_aqua, 2);
    else if worldsecond &lt; 10
         scrDrawOutlines (view_xview[0]+150, view_yview[0]+5, string(worldhour)+"'"+string(worldminute)+"'0"+string(worldsecond)+'"', c_navy, c_aqua, 2);
    else
         scrDrawOutlines (view_xview[0]+150, view_yview[0]+5, string(worldhour)+"'"+string(worldminute)+"'"+string(worldsecond)+'"', c_navy, c_aqua, 2);
}

//draw_text (view_xview[0]+240, view_yview[0]+320, string(global.timeBonus));
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
