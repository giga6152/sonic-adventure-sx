<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>option = 0;
canpushbutton = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>canpushbutton = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//After the fade, change to the appropriate hub world
global.shopscreen = 0;

switch room
{
    case rmShop: room_goto (rmMainTownShop); break;
    case rmShop2: room_goto (rmMainTownShop2); break;
    case rmShopKnux: room_goto (rmKnuxHub1); break;
    case rmShopAmy: room_goto (rmAmyHub1); break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*if keyboard_check_pressed (vk_up) &amp;&amp; room = rmShop
{
    if option == 4
       option = 2;
    if option == 1 or option == 3
       option = 1;
    if option == 0 or option == 2
       option = 0;
}
if keyboard_check_pressed (vk_down) &amp;&amp; room = rmShop
{
    if option == 0
       option = 2;
    if option == 1
       option = 3;
    if option == 2 or option == 3 or option == 4
       option = 4;
}
if keyboard_check_pressed (vk_left) &amp;&amp; room = rmShop
{
    if option == 0 or option == 1
       option = 0;
    if option == 2 or option == 3
       option = 2;
    if option == 4
       option = 4;
}
if keyboard_check_pressed (vk_right) &amp;&amp; room = rmShop
{
    if option == 0 or option == 1
       option = 1;
    if option == 2 or option == 3
       option = 3;
    if option == 4
       option = 4;
}*/

//Purchasing items is located in the Press Z-Key event of this object.

//Finally, close the shop if we press X

if keyboard_check_pressed (ord("X")) &amp;&amp; !instance_exists (objFade) &amp;&amp; !instance_exists (objExchangeMenu)
{
    instance_create (0, 0, objFade);
    alarm[0] = 40;
    audio_play_sound (sndMenuCancel, 10, false);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="90">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Purchase Items
if canpushbutton == true &amp;&amp; !instance_exists (objFade) &amp;&amp; !instance_exists (objExchangeMenu) //Check to see if we have bought something
{ 
    //Disable the ability to push a button for some time
    canpushbutton = false;
    alarm[1] = 20;
    
    switch room //First, check to see which room we are in
    {
        case rmShop: //Then we check all the appropriate shop items in that room
            switch option //Then another check depending on the option we have chosen
            {
                case 0:
                     if global.totalrings[global.savedata] &gt;= 100 &amp;&amp; global.life[global.savedata] &lt; 999 //If all these checks are true
                     {
                        global.life[global.savedata] += 1;
                        global.totalrings[global.savedata] -= 100;
                        audio_play_sound (sndLife, 10, false);
                     }
                     else //If at least one of these checks are not true
                     {
                        /*Do nothing as we've either not had enough rings or we went over
                        the 999 life limit*/
                     }
                break;
                case 1:
                     audio_play_sound (sndMenuSelect, 10, false);
                     scrExchange(); //Exchange rings to gems[global.savedata] or gems[global.savedata] to rings
                break;
                //Same thing applies with the other cases
                case 2:
                     if global.gems[global.savedata] &gt;= 500 &amp;&amp; global.stomp == false
                     {
                        global.gems[global.savedata] -= 500;
                        global.stomp = true;
                        audio_play_sound (sndResult, 10, false);
                     }
                     else
                     {
                        /*Do nothing as we've either not had enough gems[global.savedata] or we've already
                        purchased the stomp ability*/
                     }
                break;
                case 3:
                     if global.gems[global.savedata] &gt;= 700 &amp;&amp; global.slide == false
                     {
                        global.gems[global.savedata] -= 700;
                        global.slide = true;
                        audio_play_sound (sndResult, 10, false);
                     }
                     else
                     {
                        /*Do nothing as we've either not had enough gems[global.savedata] or we've already
                        purchased the slide ability*/
                     }
                break;
                case 4:
                     if global.gems[global.savedata] &gt;= 900 &amp;&amp; global.tornado == false
                     {
                        global.gems[global.savedata] -= 900;
                        global.tornado = true;
                        audio_play_sound (sndResult, 10, false);
                     }
                     else
                     {
                        /*Do nothing as we've either not had enough gems[global.savedata] or we've already
                        purchased the tornado ability*/
                     }
                break;
                case 5:
                     if global.gems[global.savedata] &gt;= 900 &amp;&amp; global.tornado == false
                     {
                        global.gems[global.savedata] -= 900;
                        global.tornado = true;
                        audio_play_sound (sndResult, 10, false);
                     }
                     else
                     {
                        /*Do nothing as we've either not had enough gems[global.savedata] or we've already
                        purchased the tornado ability*/
                     }
                break;
            }
        break;
        case rmShopKnux:
                switch option
                {
                    case 0:
                        if global.totalrings[global.savedata] &gt;= 100 &amp;&amp; global.life[global.savedata] &lt; 999 //If all these checks are true
                        {
                           global.life[global.savedata] += 1;
                           global.totalrings[global.savedata] -= 100;
                           audio_play_sound (sndLife, 10, false);
                        }
                        else //If at least one of these checks are not true
                        {
                           /*Do nothing as we've either not had enough rings or we went over
                           the 999 life limit*/
                        }
                    break;
                    case 1:
                         scrExchange();
                    break;
                    case 2:
                         if global.gems[global.savedata] &gt;= 500 &amp;&amp; global.punch == false
                         {
                            global.gems[global.savedata] -= 500;
                            global.punch = true;
                            audio_play_sound (sndResult, 10, false);
                         }
                    break;
                    case 3:
                         if global.gems[global.savedata] &gt;= 700 &amp;&amp; global.drill == false
                         {
                            global.gems[global.savedata] -= 700;
                            global.drill = true;
                            audio_play_sound (sndResult, 10, false);
                         }
                    break;
                }
        break;
        case rmShopAmy:
                switch option
                {
                    case 0:
                        if global.totalrings[global.savedata] &gt;= 100 &amp;&amp; global.life[global.savedata] &lt; 999 //If all these checks are true
                        {
                           global.life[global.savedata] += 1;
                           global.totalrings[global.savedata] -= 100;
                           audio_play_sound (sndLife, 10, false);
                        }
                        else //If at least one of these checks are not true
                        {
                           /*Do nothing as we've either not had enough rings or we went over
                           the 999 life limit*/
                        }
                    break;
                    case 1:
                         scrExchange();
                    break;
                }
        break;
        case rmShop2:
                switch option
                {
                    case 0:
                        if global.shopscreen == 0
                        {
                            if global.totalrings[global.savedata] &gt;= 100 &amp;&amp; global.life[global.savedata] &lt; 999 //If all these checks are true
                            {
                               global.life[global.savedata] += 1;
                               global.totalrings[global.savedata] -= 100;
                               audio_play_sound (sndLife, 10, false);
                            }
                            else //If at least one of these checks are not true
                            {
                               /*Do nothing as we've either not had enough rings or we went over
                               the 999 life limit*/
                            }
                        }
                        else if global.shopscreen == 1
                        {
                            if global.gems[global.savedata] &gt;= 450 &amp;&amp; global.pirategun == false
                            {
                                global.pirategun = true;
                                global.gems[global.savedata] -= 450;
                                audio_play_sound (sndResult, 10, false);
                            }
                            else if global.gems[global.savedata] &gt;= 500 &amp;&amp; global.pirategun == true
                            {
                                global.pirategun = 2;
                                global.gems[global.savedata] -= 500;
                                audio_play_sound (sndResult, 10, false);
                            }
                            else if global.gems[global.savedata] &gt;= 600 &amp;&amp; global.pirategun == 2
                            {
                                global.pirategun = 3;
                                global.gems[global.savedata] -= 600;
                                audio_play_sound (sndResult, 10, false);
                            }
                            else if global.gems[global.savedata] &gt;= 750 &amp;&amp; global.pirategun == 3
                            {
                                global.pirategun = 4;
                                global.gems[global.savedata] -= 750;
                                audio_play_sound (sndResult, 10, false);
                            }
                            else
                            {
                                //Do nothing as we either don't have enough money or the pistol level has been maxed out.
                            }
                        }
                    break;
                    case 1:
                         scrExchange();
                    break;
                    case 2:
                         if global.gems[global.savedata] &gt;= 25
                         {
                            global.halfpotions += 1;
                            global.gems[global.savedata] -= 25;
                            audio_play_sound (sndResult, 10, false);
                         }
                    break;
                    case 3:
                         if global.gems[global.savedata] &gt;= 50
                         {
                            global.fullpotions += 1;
                            global.gems[global.savedata] -= 50;
                            audio_play_sound (sndResult, 10, false);
                         }
                    break;
                    case 4:
                         if global.gems[global.savedata] &gt;= 100
                         {
                            global.autopotions += 1;
                            global.gems[global.savedata] -= 100;
                            audio_play_sound (sndResult, 10, false);
                         }
                    break;
                    case 5:
                         if global.gems[global.savedata] &gt;= 30
                         {
                            global.pikeballs += 1;
                            global.gems[global.savedata] -= 30;
                            audio_play_sound (sndResult, 10, false);
                         }
                    break;
                    case 6:
                         if global.gems[global.savedata] &gt;= 45
                         {
                            global.superpikeballs += 1;
                            global.gems[global.savedata] -= 45;
                            audio_play_sound (sndResult, 10, false);
                         }
                    break;
                    case 7:
                         if global.gems[global.savedata] &gt;= 100
                         {
                            global.fireballs += 10;
                            global.gems[global.savedata] -= 100;
                            audio_play_sound (sndResult, 10, false);
                         }
                    break;
                }
        break;
        //The same thing applies for each one of these rooms
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="40">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !instance_exists (objExchangeMenu)
{
    audio_play_sound (sndMenuNavigate, 10, false);
    
    if room == rmShop &amp;&amp; canpushbutton == true
    {
       if option == 0 or option == 1
          option += 2;
           
        canpushbutton = false;
        alarm[1] = 20;
    }
    else if room == rmShop2 &amp;&amp; canpushbutton == true
    {
       if global.shopscreen == 0
       {
           if option == 0 or option == 1 or option == 2 or option == 3 or option == 4 or option == 5
              option += 2;
       }
           
        canpushbutton = false;
        alarm[1] = 20;
    }
    if room == rmShopKnux &amp;&amp; canpushbutton == true
    {
       if option == 0 or option == 1
          option += 2;
           
        canpushbutton = false;
        alarm[1] = 20;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="39">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !instance_exists (objExchangeMenu)
{
    audio_play_sound (sndMenuNavigate, 10, false);
    
    if room == rmShop &amp;&amp; canpushbutton == true
    {
        if option == 0 or option == 2
           option += 1;
           
        canpushbutton = false;
        alarm[1] = 20;
    }
    else if room == rmShop2 &amp;&amp; canpushbutton == true
    {
        if global.shopscreen == 0
        {
            if option == 0 or option == 2 or option == 4 or option == 6
               option += 1;
        }
           
        canpushbutton = false;
        alarm[1] = 20;
    }
    else if room == rmShopKnux &amp;&amp; canpushbutton == true
    {
        if option == 0 or option == 2
           option += 1;
           
        canpushbutton = false;
        alarm[1] = 20;
    }
    else if room == rmShopAmy &amp;&amp; canpushbutton == true
    {
        if option == 0
           option += 1;
           
        canpushbutton = false;
        alarm[1] = 20;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="38">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !instance_exists (objExchangeMenu)
{
    audio_play_sound (sndMenuNavigate, 10, false);
    
    if room == rmShop &amp;&amp; canpushbutton == true
    {
        if option == 2 or option == 3
           option -= 2;
           
        canpushbutton = false;
        alarm[1] = 20;
    }
    else if room == rmShop2 &amp;&amp; canpushbutton == true
    {
        if global.shopscreen == 0
        {
            if option == 2 or option == 3 or option == 4 or option == 5 or option == 6 or option == 7
               option -= 2;
        }
           
        canpushbutton = false;
        alarm[1] = 20;
    }
    else if room == rmShopKnux &amp;&amp; canpushbutton == true
    {
        if option == 2 or option == 3
           option -= 2;
           
        canpushbutton = false;
        alarm[1] = 20;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="37">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !instance_exists (objExchangeMenu)
{
    audio_play_sound (sndMenuNavigate, 10, false);
    
    if room == rmShop &amp;&amp; canpushbutton == true
    {      
        if option == 1 or option == 3
           option -= 1;
           
        canpushbutton = false;
        alarm[1] = 20;
    }
    else if room == rmShop2 &amp;&amp; canpushbutton == true
    {
        if global.shopscreen == 0
        {
            if option == 1 or option == 3 or option == 5 or option == 7
               option -= 1;
        }
           
        canpushbutton = false;
        alarm[1] = 20;
    }
    else if room == rmShopKnux &amp;&amp; canpushbutton == true
    {
        if option == 1 or option == 3
           option -= 1;
           
        canpushbutton = false;
        alarm[1] = 20;
    }
    else if room == rmShopAmy &amp;&amp; canpushbutton == true
    {
        if option == 1
           option -= 1;
           
        canpushbutton = false;
        alarm[1] = 20;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
